{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Resources": {
    "API | /user/validate-otp | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/validate-otp | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/validate-otp API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/validate-otp"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/logout | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/logout | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/logout API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/logout"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/flash/create-account | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/flash/create-account | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/flash/create-account API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/flash/create-account"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/profile | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/profile | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/profile API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/profile"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "GET"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/refresh-session | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/refresh-session | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/refresh-session API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/refresh-session"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "PUT"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /v1/users/invite/validate | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /v1/users/invite/validate | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /v1/users/invite/validate API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/v1/users/invite/validate"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /v1/users/invite/usage | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /v1/users/invite/usage | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /v1/users/invite/usage API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/v1/users/invite/usage"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "GET"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /device/store | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /device/store | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /device/store API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/device/store"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /device/update | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /device/update | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /device/update API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/device/update"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "POST"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/insights | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/insights | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/insights API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/insights"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "GET"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    },
    "API | /user/insights/brand/{brand} | latency_high | Critical": {
      "Type": "AWS::CloudWatch::Alarm",
      "Properties": {
        "AlarmName": "API | /user/insights/brand/{brand} | latency_high | Critical",
        "AlarmDescription": "Check the Latency in Prod for /user/insights/brand/{brand} API.",
        "ActionsEnabled": true,
        "OKActions": [],
        "AlarmActions": [
          "arn:aws:sns:ap-south-1:734835702833:Flash_Prod_CloudWatch_Alarms_Topic"
        ],
        "InsufficientDataActions": [],
        "MetricName": "Latency",
        "Namespace": "AWS/ApiGateway",
        "ExtendedStatistic": "p99",
        "Dimensions": [
          {
            "Name": "Resource",
            "Value": "/user/insights/brand/{brand}"
          },
          {
            "Name": "Stage",
            "Value": "$default"
          },
          {
            "Name": "Method",
            "Value": "GET"
          },
          {
            "Name": "ApiId",
            "Value": "ju6maoy9o2"
          }
        ],
        "Period": 60,
        "EvaluationPeriods": 3,
        "DatapointsToAlarm": 3,
        "Threshold": 10000,
        "ComparisonOperator": "GreaterThanOrEqualToThreshold",
        "TreatMissingData": "missing",
        "EvaluateLowSampleCountPercentile": "ignore"
      }
    }
  }
}